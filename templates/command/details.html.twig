{% extends 'base_3.html.twig' %}

{% block body %}

    <main class="container-fluid pt-3">
        <h1 class="text-center text-uppercase mb-3">commande n°{{ command.id }}</h1>

        <section class="row mb-3">
            <div class="col-md-1"></div>
            <div class="col-12 col-md-10">
                <div class="row justify-content-between p-3 font-light text-center">
                    <div class="col-6 col-md-3 mb-3 mb-md-0">
                        <span class="font-poppins text-primary"><i class="fas fa-user-alt mr-1"></i>Client</span>
                        <br>
                        <span class="text-capitalize">{{ command.customer.getFullName() }}</span>
                    </div>
                    <div class="col-6 col-md-3 mb-3 mb-md-0">
                        <span class="font-poppins text-secondary"><i class="fas fa-calendar-alt mr-1"></i>Date</span>
                        <br>
                        <span>{{ command.receivedAt|date('d-m-Y') }}</span>
                    </div>
                    <div class="col-6 col-md-3">
                        <span class="font-poppins text-warning"><i class="fas fa-file-alt mr-1"></i>Produits</span>
                        <br>
                        <span>{{ command.details|length }}</span>
                    </div>
                    <div class="col-6 col-md-3">
                        <span class="font-poppins text-success"><i class="fas fa-calculator mr-1"></i>Sous-total</span>
                        <br>
                        <span>{{ command.total|number_format(null, null, ' ') }}F</span>
                    </div>
                </div>
            </div>
            <div class="col-md-1"></div>
        </section>
        <section class="row mb-3 mb-md-5">
            <div class="col-md-1"></div>
            <div class="col-12 col-md-10">
                <section class="row mb-3">
                    <div class="col-12 col-md-7 mb-2">
                        <div class="card">
                            <div class="card-header bg-secondary text-white">
                                <h4 class="font-poppins mb-0">
                                    <i class="fas fa-cogs mr-1"></i>Paramètres
                                </h4>
                            </div>
                            <div class="card-body">
                                {{ form_start(form) }}
                                {{ form_widget(form) }}
                                <div class="text-center">
                                    <button type="submit" class="btn btn-primary rounded-0">
                                        mettre à jour la commande
                                    </button>
                                </div>
                                {{ form_end(form) }}
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-5">
                        <div class="card">
                            <div class="card-header bg-secondary text-white">
                                <h4 class="font-poppins mb-0">
                                    <i class="fas fa-map-marker-alt mr-1"></i>Adresse
                                </h4>
                            </div>
                            <div class="card-body">
                                <span class="font-poppins">Contact : </span>
                                <p class="mb-1 font-light text-capitalize">
                                    {{ command.address.getFullName()~' ('~command.address.phone~')' }}
                                </p>
                                <span class="font-poppins">Quartier : </span>
                                <p class="mb-1 font-light">{{ command.address.district }}</p>
                                <span class="font-poppins">Détails : </span>
                                <p class="mb-1 font-light">{{ command.address.details }}</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="pt-3">
                    <div class="card">
                        <div class="card-header bg-secondary">
                            <h4 class="font-poppins text-white mb-0">
                                <i class="fas fa-file-alt mr-1"></i>Produits
                            </h4>
                        </div>
                        <div class="card-body">
                            {% include 'command/details-table.html.twig' %}
                        </div>
                    </div>
                </section>
            </div>
            <div class="col-md-1"></div>
        </section>
    </main>

{% endblock %}